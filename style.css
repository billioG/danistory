/* ===== Paleta pastel con amarillo principal ===== */
:root{
  --ink:#3b3229;
  --paper:#fffef9;
  --bg:#fff9e8;          /* amarillo pastel de fondo */
  --sun-200:#fff3c2;     /* amarillos suaves */
  --sun-300:#ffe89a;
  --sun-400:#ffd768;
  --sun-500:#ffc24d;
  --warm-ink:#5a4a32;
  --line:#f2e7c9;
  --green:#a7d8a0;
  --peach:#ffc2ad;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font-family: "Alegreya", serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* ===== Contenedor del libro ===== */
.book-wrapper{
  width:100%;
  min-height:100vh;
  padding:16px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.book-container{
  width:100%;
  max-width:920px;
  height:calc(100vh - 48px); /* altura consistente */
  background: var(--paper);
  border-radius:16px;
  box-shadow: 0 14px 40px rgba(0,0,0,.10);
  overflow:hidden;
  position:relative;
  display:flex;
  flex-direction:column;
  border: 1px solid var(--line);
}

/* ===== Portada ===== */
.book-cover-front{
  padding:56px 28px 40px;
  height:100%;
  background: linear-gradient(180deg,#fffefb 0%, var(--sun-200) 85%);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.book-title{
  font-family:"Playfair Display", serif;
  font-weight:900;
  font-size:clamp(42px,6.6vw,68px);
  margin:0 0 4px 0;
  color:#3e2f1c;
}

.book-subtitle{
  font-family:"Playfair Display", serif;
  font-weight:700;
  font-size:clamp(20px,3vw,28px);
  color:#7a6444;
  margin:0 0 16px;
  letter-spacing:.4px;
}

.title-divider{
  width:min(240px,42%);
  height:10px;
  margin:8px auto 16px;
  position:relative;
}
.title-divider::before,
.title-divider::after{
  content:"";
  position:absolute; top:50%;
  width:46%; height:2px; background: #e9d9ad;
}
.title-divider::before{ left:0; }
.title-divider::after{ right:0; }

.lead{
  max-width:700px;
  font-size:clamp(16px,2.2vw,19px);
  line-height:1.65;
  margin:0 auto 28px;
  color:#66553d;
}

.start-reading{
  border:0;
  padding:12px 22px;
  border-radius:999px;
  background: var(--sun-400);
  color:#3b2b18;
  font-weight:800;
  cursor:pointer;
  box-shadow: 0 6px 18px rgba(255,210,90,.35);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.start-reading:hover{ transform: translateY(-1px); filter:brightness(1.02); }

/* ===== Páginas ===== */
.book-pages{ width:100%; height:100%; display:none; }
.book-spread{ width:100%; height:100%; display:none; }

.book-page{ width:100%; height:100%; padding:18px; }

.page-inner{
  height:100%;
  background: #fffdfa;
  border-radius:14px;
  padding:20px;
  box-shadow: inset 0 0 0 1px #f6edd3, inset 0 12px 40px rgba(255,226,150,.15);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.page-content{
  display:flex;
  flex-direction:column;
  gap:14px;
  height:100%;
  overflow:auto;
  padding-right:6px;
}

.page-heading{
  font-family:"Playfair Display", serif;
  font-weight:800;
  color:#4b3a25;
  font-size:clamp(26px,4.2vw,38px);
  margin:4px 0 2px;
}

/* Marco decorativo del prólogo */
.heading-frame{
  position:relative;
  display:grid;
  place-items:center;
  margin:4px auto 8px;
  width:min(92%, 720px);
}
.heading-frame .frame-svg{ width:100%; height:auto; display:block; }
.heading-frame .page-heading{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
}

/* ===== Texto y capitular ===== */
.page-text{
  font-size:clamp(17px,1.4vw,19px);
  line-height:1.7;
  letter-spacing:.12px;
  color: var(--warm-ink);
}

/* APLICA LA LETRA GRANDE AL PRIMER PÁRRAFO DE CADA PÁGINA */
.page-content .page-text:first-of-type p:first-of-type::first-letter{
  float:left;
  font-family:"Playfair Display", serif;
  font-weight:900;
  font-size:clamp(58px,9.5vw,96px);
  line-height:.8;
  margin:.02em .14em 0 0;
  color:#4a3b2f;
  text-shadow: 0 1px 0 #fff4cf;
}

/* Ilustraciones adaptativas */
.page-illustration img,
.prologue-illustr{
  display:block;
  width:100%;
  max-height: min(52vh, 520px);
  object-fit:contain;           /* vertical -> se hace más pequeña, sin recorte */
  border-radius:12px;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
}

/* ===== Final interactivo ===== */
.big-ending{
  font-family:"Playfair Display", serif;
  font-size:clamp(40px,6vw,60px);
  text-align:center;
  margin:12px 0 0;
}
.small-question{
  text-align:center;
  color:#6b5a3d;
  margin:6px 0 14px;
}
.choice-buttons{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:8px;
}
.choice-btn{
  border:0;
  border-radius:12px;
  padding:10px 16px;
  font-weight:800;
  cursor:pointer;
  box-shadow: 0 6px 16px rgba(0,0,0,.08);
}
.choice-btn.yes{ background:var(--green); color:#234c24; }
.choice-btn.no{ background:var(--peach); color:#5b2d20; }

.video-wrap{
  width:100%;
  border:1px solid var(--line);
  border-radius:12px;
  background:#fffbe6;
  overflow:hidden;
  aspect-ratio:16/9;
}
.video-wrap iframe{
  width:100%; height:100%; border:0; display:block;
}

/* ===== Controles ===== */
.book-controls{
  position:absolute;
  left:0; right:0; bottom:8px;
  padding:8px 12px;
  display:none;
  align-items:center;
  justify-content:center;
  gap:12px;
}

.control-btn{
  border:0;
  background: var(--sun-300);
  color:#3b2b18;
  border-radius:10px;
  padding:8px 12px;
  font-size:18px;
  cursor:pointer;
  transition: filter .15s ease;
  box-shadow: 0 4px 10px rgba(255,210,90,.25);
}
.control-btn:hover{ filter:brightness(1.02); }

.progress-indicator{ width:min(260px,60%); text-align:center; }
.progress-bar{
  width:100%; height:8px; background:#f7edcc; border-radius:10px; overflow:hidden; margin:0 auto 6px;
}
.progress-fill{
  height:100%; width:0%;
  background: linear-gradient(90deg,var(--sun-400),var(--sun-500));
  transition: width .3s ease;
}
.page-counter{ font-size:14px; color:#6b5a3d; }

/* ===== Responsive ===== */
@media (max-width: 720px){
  .page-inner{ padding:16px; }
  .page-illustration img,
  .prologue-illustr{ max-height: 48vh; }
}
